"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[185],{2342:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"module1-ros/nodes-and-topics","title":"2. ROS 2 Nodes and Topics","description":"Learning Objectives","source":"@site/docs/module1-ros/2-nodes-and-topics.md","sourceDirName":"module1-ros","slug":"/module1-ros/nodes-and-topics","permalink":"/Hackathons/ur/docs/module1-ros/nodes-and-topics","draft":false,"unlisted":false,"editUrl":"https://github.com/muslim785/Hackathons/tree/main/docs/module1-ros/2-nodes-and-topics.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"2. ROS 2 Nodes and Topics"},"sidebar":"modulesSidebar","previous":{"title":"1. Introduction to ROS 2","permalink":"/Hackathons/ur/docs/module1-ros/introduction-to-ros"},"next":{"title":"Module 2: Digital Twin \u2014 Gazebo & Unity","permalink":"/Hackathons/ur/docs/category/module-2-digital-twin--gazebo--unity"}}');var i=n(4848),o=n(8453);const l={title:"2. ROS 2 Nodes and Topics"},a=void 0,t={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"ROS 2 Nodes",id:"ros-2-nodes",level:2},{value:"ROS 2 Topics",id:"ros-2-topics",level:2},{value:"Message Types",id:"message-types",level:3},{value:"Code Example: Simple Publisher and Subscriber",id:"code-example-simple-publisher-and-subscriber",level:2},{value:"Publisher Node (<code>minimal_publisher.py</code>)",id:"publisher-node-minimal_publisherpy",level:3},{value:"Subscriber Node (<code>minimal_subscriber.py</code>)",id:"subscriber-node-minimal_subscriberpy",level:3},{value:"Practical Lab: Running Your First ROS 2 Nodes",id:"practical-lab-running-your-first-ros-2-nodes",level:2},{value:"Safety and Ethics Notes",id:"safety-and-ethics-notes",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Understand the concept of ROS 2 nodes."}),"\n",(0,i.jsx)(s.li,{children:"Learn how to create and manage ROS 2 topics."}),"\n",(0,i.jsx)(s.li,{children:"Exchange messages between nodes using topics."}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"ros-2-nodes",children:"ROS 2 Nodes"}),"\n",(0,i.jsx)(s.p,{children:"In ROS 2, a node is an executable process that performs computation. Nodes are typically designed to do one thing well, such as controlling a motor, reading sensor data, or performing a specific algorithm. A ROS 2 system usually consists of many nodes working together."}),"\n",(0,i.jsx)(s.h2,{id:"ros-2-topics",children:"ROS 2 Topics"}),"\n",(0,i.jsx)(s.p,{children:'Topics are a fundamental communication mechanism in ROS 2. They implement a publish-subscribe messaging pattern. A node can "publish" messages to a named topic, and any number of other nodes can "subscribe" to that topic to receive those messages. This allows for loose coupling between components, as publishers and subscribers don\'t need to know about each other directly.'}),"\n",(0,i.jsx)(s.h3,{id:"message-types",children:"Message Types"}),"\n",(0,i.jsxs)(s.p,{children:["When publishing or subscribing to a topic, you must specify a message type. This type defines the structure of the data that will be sent over the topic. Common message types include ",(0,i.jsx)(s.code,{children:"std_msgs/msg/String"})," for simple text, ",(0,i.jsx)(s.code,{children:"geometry_msgs/msg/Twist"})," for velocity commands, and ",(0,i.jsx)(s.code,{children:"sensor_msgs/msg/Image"})," for camera data."]}),"\n",(0,i.jsx)(s.h2,{id:"code-example-simple-publisher-and-subscriber",children:"Code Example: Simple Publisher and Subscriber"}),"\n",(0,i.jsx)(s.p,{children:'Let\'s create a "Hello World" example using a Python publisher and subscriber.'}),"\n",(0,i.jsxs)(s.h3,{id:"publisher-node-minimal_publisherpy",children:["Publisher Node (",(0,i.jsx)(s.code,{children:"minimal_publisher.py"}),")"]}),"\n",(0,i.jsxs)(s.p,{children:['This node will publish the string "Hello ROS 2" to a topic named ',(0,i.jsx)(s.code,{children:"topic"})," every half-second."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalPublisher(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = 'Hello ROS 2: %d' % self.i\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\r\n        self.i += 1\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_publisher = MinimalPublisher()\r\n    rclpy.spin(minimal_publisher)\r\n    minimal_publisher.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsxs)(s.h3,{id:"subscriber-node-minimal_subscriberpy",children:["Subscriber Node (",(0,i.jsx)(s.code,{children:"minimal_subscriber.py"}),")"]}),"\n",(0,i.jsxs)(s.p,{children:["This node will subscribe to the ",(0,i.jsx)(s.code,{children:"topic"})," and print the received messages to the console."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalSubscriber(Node):\r\n\r\n    def __init__(self):\r\n        super().__init__('minimal_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'topic',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_subscriber = MinimalSubscriber()\r\n    rclpy.spin(minimal_subscriber)\r\n    minimal_subscriber.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(s.h2,{id:"practical-lab-running-your-first-ros-2-nodes",children:"Practical Lab: Running Your First ROS 2 Nodes"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Create a ROS 2 Workspace"}),": If you don't have one, create a new ROS 2 workspace:","\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws\r\ncolcon build\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Create a Python Package"}),": Inside ",(0,i.jsx)(s.code,{children:"~/ros2_ws/src"}),", create a new Python package for your nodes:","\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_python my_ros_pkg\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Place the Code"}),": Save ",(0,i.jsx)(s.code,{children:"minimal_publisher.py"})," and ",(0,i.jsx)(s.code,{children:"minimal_subscriber.py"})," into ",(0,i.jsx)(s.code,{children:"~/ros2_ws/src/my_ros_pkg/my_ros_pkg/"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.strong,{children:["Update ",(0,i.jsx)(s.code,{children:"setup.py"})]}),": In ",(0,i.jsx)(s.code,{children:"~/ros2_ws/src/my_ros_pkg/setup.py"}),", add the entry points for your executables.","\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"entry_points={\r\n    'console_scripts': [\r\n        'minimal_publisher = my_ros_pkg.minimal_publisher:main',\r\n        'minimal_subscriber = my_ros_pkg.minimal_subscriber:main',\r\n    ],\r\n},\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Build the Workspace"}),":","\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Source the Setup Files"}),": Open two separate terminal windows. In each, source your workspace:","\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"source install/setup.bash # or setup.zsh\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Run the Publisher"}),": In the first terminal:","\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run my_ros_pkg minimal_publisher\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Run the Subscriber"}),": In the second terminal:","\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run my_ros_pkg minimal_subscriber\n"})}),"\n","You should see the subscriber printing the messages published by the publisher."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"safety-and-ethics-notes",children:"Safety and Ethics Notes"}),"\n",(0,i.jsx)(s.p,{children:"When designing robotic communication systems, consider the security implications of data exchange. Ensure sensitive data is handled securely and that critical commands are authenticated. The reliability of topic communication is crucial for safe robot operation; unexpected message loss can lead to unpredictable behavior."}),"\n",(0,i.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(s.p,{children:"This chapter delved into the core ROS 2 concepts of nodes and topics, demonstrating how they form the backbone of inter-process communication in a robotic system. Through practical examples, we learned to create and run simple publisher and subscriber nodes in Python, laying the groundwork for more complex robotic applications."})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var r=n(6540);const i={},o=r.createContext(i);function l(e){const s=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(o.Provider,{value:s},e.children)}}}]);